import{q as sn,P as W}from"./path-Crsf9Nsj-3140eca4.js";import{aw as rn,ax as V,ay as E,az as an,aA as l,X as un,aB as X,aC as q,aD as cn,aE as y,aF as on,aG as yn,aH as en}from"./index-fd6b9bd4.js";function fn(s){return s.innerRadius}function ln(s){return s.outerRadius}function mn(s){return s.startAngle}function pn(s){return s.endAngle}function gn(s){return s&&s.padAngle}function xn(s,v,D,O,k,d,w,r){var F=D-s,i=O-v,n=w-k,p=r-d,a=p*F-n*i;if(!(a*a<l))return a=(n*(v-d)-p*(s-k))/a,[s+a*F,v+a*i]}function Z(s,v,D,O,k,d,w){var r=s-D,F=v-O,i=(w?d:-d)/X(r*r+F*F),n=i*F,p=-i*r,a=s+n,o=v+p,e=D+n,f=O+p,C=(a+e)/2,u=(o+f)/2,g=e-a,m=f-o,A=g*g+m*m,T=k-d,B=a*f-e*o,H=(m<0?-1:1)*X(en(0,T*T*A-B*B)),I=(B*m-g*H)/A,K=(-B*g-m*H)/A,R=(B*m+g*H)/A,x=(-B*g+m*H)/A,h=I-C,t=K-u,c=R-C,G=x-u;return h*h+t*t>c*c+G*G&&(I=R,K=x),{cx:I,cy:K,x01:-n,y01:-p,x11:I*(k/T-1),y11:K*(k/T-1)}}function kn(){var s=fn,v=ln,D=W(0),O=null,k=mn,d=pn,w=gn,r=null,F=sn(i);function i(){var n,p,a=+s.apply(this,arguments),o=+v.apply(this,arguments),e=k.apply(this,arguments)-an,f=d.apply(this,arguments)-an,C=cn(f-e),u=f>e;if(r||(r=n=F()),o<a&&(p=o,o=a,a=p),!(o>l))r.moveTo(0,0);else if(C>un-l)r.moveTo(o*V(e),o*E(e)),r.arc(0,0,o,e,f,!u),a>l&&(r.moveTo(a*V(f),a*E(f)),r.arc(0,0,a,f,e,u));else{var g=e,m=f,A=e,T=f,B=C,H=C,I=w.apply(this,arguments)/2,K=I>l&&(O?+O.apply(this,arguments):X(a*a+o*o)),R=q(cn(o-a)/2,+D.apply(this,arguments)),x=R,h=R,t,c;if(K>l){var G=on(K/a*E(I)),Y=on(K/o*E(I));(B-=G*2)>l?(G*=u?1:-1,A+=G,T-=G):(B=0,A=T=(e+f)/2),(H-=Y*2)>l?(Y*=u?1:-1,g+=Y,m-=Y):(H=0,g=m=(e+f)/2)}var _=o*V(g),S=o*E(g),b=a*V(T),L=a*E(T);if(R>l){var N=o*V(m),U=o*E(m),$=a*V(A),M=a*E(A),z;if(C<rn)if(z=xn(_,S,$,M,N,U,b,L)){var P=_-z[0],Q=S-z[1],J=N-z[0],j=U-z[1],nn=1/E(yn((P*J+Q*j)/(X(P*P+Q*Q)*X(J*J+j*j)))/2),tn=X(z[0]*z[0]+z[1]*z[1]);x=q(R,(a-tn)/(nn-1)),h=q(R,(o-tn)/(nn+1))}else x=h=0}H>l?h>l?(t=Z($,M,_,S,o,h,u),c=Z(N,U,b,L,o,h,u),r.moveTo(t.cx+t.x01,t.cy+t.y01),h<R?r.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!u):(r.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!u),r.arc(0,0,o,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!u),r.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!u))):(r.moveTo(_,S),r.arc(0,0,o,g,m,!u)):r.moveTo(_,S),!(a>l)||!(B>l)?r.lineTo(b,L):x>l?(t=Z(b,L,N,U,a,-x,u),c=Z(_,S,$,M,a,-x,u),r.lineTo(t.cx+t.x01,t.cy+t.y01),x<R?r.arc(t.cx,t.cy,x,y(t.y01,t.x01),y(c.y01,c.x01),!u):(r.arc(t.cx,t.cy,x,y(t.y01,t.x01),y(t.y11,t.x11),!u),r.arc(0,0,a,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),u),r.arc(c.cx,c.cy,x,y(c.y11,c.x11),y(c.y01,c.x01),!u))):r.arc(0,0,a,T,A,u)}if(r.closePath(),n)return r=null,n+""||null}return i.centroid=function(){var n=(+s.apply(this,arguments)+ +v.apply(this,arguments))/2,p=(+k.apply(this,arguments)+ +d.apply(this,arguments))/2-rn/2;return[V(p)*n,E(p)*n]},i.innerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:W(+n),i):s},i.outerRadius=function(n){return arguments.length?(v=typeof n=="function"?n:W(+n),i):v},i.cornerRadius=function(n){return arguments.length?(D=typeof n=="function"?n:W(+n),i):D},i.padRadius=function(n){return arguments.length?(O=n==null?null:typeof n=="function"?n:W(+n),i):O},i.startAngle=function(n){return arguments.length?(k=typeof n=="function"?n:W(+n),i):k},i.endAngle=function(n){return arguments.length?(d=typeof n=="function"?n:W(+n),i):d},i.padAngle=function(n){return arguments.length?(w=typeof n=="function"?n:W(+n),i):w},i.context=function(n){return arguments.length?(r=n??null,i):r},i}export{kn as v};
